<%= javascript_include_tag "avatar-prev.js" %>

<div class="container">
  <div class="row justify-content-center">
    <div class="col-xl-5 col-lg-6 col-md-8 col-sm-11 col-11">
      <div class="border rounded shadow p-4">
        <div class="text-center border-bottom">
          <%= image_tag "chari-log-logo.png", class: "img-fluid", style: "max-width: 85%;" %>
        </div>
        <div class="text-center py-3">
          <h4 class="font-weight-bold text-secondary">MyBikeとの思い出を<br>
          刻んで共有しよう!!</h4>
        </div>
        <div class="text-center">
          <%= form_with model: @user, local: true do |f| %>
            <%= render 'shared/error_messages', object: f.object %>
            <div class="form-group d-flex justify-content-around align-items-center py-2">
              <div class="prev-img position-relative border-right border-secondary pe-3">
                <%= image_tag 'sample.png', class: "rounded-circle bg-dark-subtle", id: "prev_img" %>
                <div class="delete-preview">
                  <i class="fas fa-times fa-lg"></i>
                </div>
              </div>
              <%= f.label :avatar do %>
                <div class="avatar-area d-flex align-items-center justify-content-center bg-light border-dashed border-secondary pointer rounded-1 ms-3" >
                  <span><i class="fas fa-camera me-2"></i>画像を<br>
                  選択する</span>
                </div>
                <%= f.file_field :avatar, :id => 'user_avatar', accept: '.jpeg, .jpg, .png', style: "display: none;" %>
              <% end %>
            </div>
            <div class="form-group">
              <%= f.text_field :name, class: 'form-control bg-light', placeholder: 'ユーザーネーム' %>
            </div>
            <div class="form-group">
              <%= f.select :my_bike, User.my_bikes.keys, {}, class: 'form-control bg-light', placeholder: 'あなたの持つバイクメーカー(好きなメーカー)を選択してください' %>
            </div>
            <div class="form-group">
              <%= f.text_field :email, class: 'form-control bg-light', placeholder: 'メールアドレス' %>
            </div>
            <div class="form-group">
              <%= f.password_field :password, class: 'form-control bg-light', placeholder: 'パスワード' %>
            </div>
            <div class="form-group">
              <%= f.password_field :password_confirmation, class: 'form-control bg-light', placeholder: 'パスワード確認' %>
            </div>
            <div class="form-group">
              <%= f.submit "登録する", class: 'btn btn-primary btn-block font-weight-bold rounded-pill mt-4' %>
            </div>
          <% end %>
        </div>
        <div class='text-center my-4'>
          <span>─</span> 登録済みの方はこちらへ <span>─</span>
        </div>
        <div class="text-center">
          <%= link_to "ログインページへ", login_path, class: "btn btn-outline-info btn-block font-weight-bold rounded-pill mb-3" %>
        </div>
      </div>
    </div>
  </div>
</div>
